# Задача на SQL

### Структура БД
```
CREATE TABLE Products (
Id INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
Name VARCHAR(255) NOT NULL);

CREATE TABLE Category (
Id INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
Name VARCHAR(255) NOT NULL);

CREATE TABLE Products_Category (
Product_id INT NOT NULL,
Category_id INT NOT NULL,
FOREIGN KEY (Product_id) REFERENCES Products (Id) ON DELETE CASCADE,
FOREIGN KEY (Category_id) REFERENCES Category (Id) ON DELETE CASCADE);
```
### Данные
```
INSERT INTO Products VALUES ('Монитор LG'), ('Мужская рубашка'), ('Телескоп'), ('Хлеб');
INSERT INTO Category VALUES('Компьютерная переферия'), ('Электронника'),('Одежда'),('Оптические приборы');
INSERT INTO Products_Category VALUES(1, 1), (1, 2), (2, 3), (3,4);
```

### Запрос
```
SELECT 
	p.name AS "Наименование продукта",
	c.name AS "Наименование категории"
FROM Products p
LEFT JOIN Products_Category pc 	ON  pc.Product_id = p.Id
LEFT JOIN Category 	    c 	ON c.Id = pc.Category_id
ORDER BY p.name
```


# Возникшие проблемы
### Легкость добавление фигур и вычисление площади фигуры без знания типа фигуры в complite-time

Изначально в проекте применялся шаблонный метод.
Абстрактный класс Figure, который наследовали все фигуры
И интерфейс IFigure, который обозначал тип фигуры

При создании экземпляра класса FigureCreator возникала проблема, что возвращаемый тип метода CreateFigure интерфейс IFigure.
В интерфейсе было объявлено только поле TypeFigure - возвращающий тип фигуры.
Данная реализация не давала обратиться к полям класса для получения площади и доп функционала,
и для получения необходимого класса приходилось приводить IFigure в нужный тип, что нарушает логику вычисления площади без знания типа фигуры.

Было принятно решение переписать код без использования шаблонного метода, чтобы каждая фигура наследовала интерфейс IFigure.
Возникла другая проблема, что при добавлении фигуры и необходимых функций/проверок для данной фигуры, приходится добавлять поля в интерфейс IFigure,
что заставляет нас переписывать предыдущий код, что тоже не считается корректным

Возможное решение - оставить шаблонный метод и интерфейс
Если суть задания - вычисление только площади и не важно какие доп поля есть в классе, 
то добавить в интерфейс поле Square, а весь доп функционал перекинуть на классы - наследнкии

### Получение результата в свойствах Get
Не уверен что так правильно делать, но для данного функионала мне показалось это удобнее, чем создавать экземпляр класса и вызывать метод подсчета площади.
Операция подсчета площади и вычисления - прямоугольный ли треугольник - не такие требовательные, чтобы свойство не успело их обработать.
Из этой логики был сделан подобный функционал.
